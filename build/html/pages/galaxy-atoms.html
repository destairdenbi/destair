
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Galaxy-Atoms &#8212; deSTAIR Projects 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Galaxy-Workflows" href="galaxy-workflows.html" />
    <link rel="prev" title="Galaxy-Webhooks" href="galaxy-webhooks.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="galaxy-workflows.html" title="Galaxy-Workflows"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="galaxy-webhooks.html" title="Galaxy-Webhooks"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">deSTAIR Projects 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="galaxy-atoms">
<h1>Galaxy-Atoms<a class="headerlink" href="#galaxy-atoms" title="Permalink to this headline">¶</a></h1>
<p>This repository contains the de.STAIR atoms that are incorporated in the
<a class="reference external" href="https://github.com/destairdenbi/galaxy-workflow-generator">Galaxy workflow generator</a>,
to assist users in the analysis of RNA-Seq and BS/RRBS-Seq data.</p>
<ul class="simple">
<li><p><a class="reference external" href="#how-it-works">How it works</a></p></li>
<li><p><a class="reference external" href="#how-to-contribute">How to contribute</a></p>
<ul>
<li><p><a class="reference external" href="#set-up-docker">Set up Docker</a></p></li>
<li><p><a class="reference external" href="#when-some-tools-are-missing">When some tools are missing</a></p></li>
<li><p><a class="reference external" href="#when-every-tool-is-there">When every tool is there</a></p></li>
<li><p><a class="reference external" href="#test-new-atoms">Test new atoms</a></p></li>
</ul>
</li>
</ul>
<div class="section" id="how-it-works">
<h2>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h2>
<p>Atoms are interactive Galaxy tours that illustrate one or more tools within the
context of an experimental setup.<br />Alternative atoms are therefore provided to describe the usage and
parameterization of alternative tools to solve the same biocomputational
problem.</p>
<p>In the Galaxy workflow generator, each atom describes a tool (or series
thereof) to solve a <em>task</em> of the desired data analysis.</p>
<p>For instance, to carry out the tasks of an RNA-Seq analysis:</p>
<ol class="simple">
<li><p>Quality control and data preprocessing</p></li>
<li><p>Genome alignment</p></li>
<li><p>Transcript quantification and differential gene expression</p></li>
</ol>
<p>alternative atoms can be built using the following Galaxy tools:</p>
<p align="center">
  <img align="center"
    src="web/atoms.png"
    width="600px"
    alt="Sample alternative atoms to complete a task in an RNA-Seq analysis"
    valign="top"/>
  <br />
  <div align="center">
Where <sup>X,Y,Z,W</sup> are alternative parameterizations.
  </div>
</p><p>Doing so, users can be informed about the availability of alternative
strategies to carry out the desired analysis, and select the most appropriate
atom within the context of their experimental setup.</p>
<p align="right"><a href="#top">&#x25B2; back to top</a></p></div>
<div class="section" id="how-to-contribute">
<h2>How to contribute<a class="headerlink" href="#how-to-contribute" title="Permalink to this headline">¶</a></h2>
<p>Atoms can be tested, modified, and extended. The following sections will help
you set up the Galaxy workflow generator to contribute with new atoms.</p>
<p align="right"><a href="#top">&#x25B2; back to top</a></p><div class="section" id="set-up-docker">
<h3>Set up Docker<a class="headerlink" href="#set-up-docker" title="Permalink to this headline">¶</a></h3>
<p>Set up Docker by following the same <a class="reference external" href="https://github.com/destairdenbi/galaxy-workflow-generator#installation-requirements">installation requirements</a>
needed to run the Galaxy workflow generator.</p>
<p align="right"><a href="#top">&#x25B2; back to top</a></p></div>
<div class="section" id="when-some-tools-are-missing">
<h3>When some tools are missing<a class="headerlink" href="#when-some-tools-are-missing" title="Permalink to this headline">¶</a></h3>
<p>New tools can be added in the Galaxy workflow generator by installing them…</p>
<ol class="simple">
<li><p>From the admin panel (may load to unexpected errors upon execution)</p></li>
<li><p>Via re-building the docker image</p></li>
</ol>
<p>Clone the <a class="reference external" href="https://github.com/destairdenbi/galaxy-workflow-generator">Galaxy workflow generator</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/destairdenbi/galaxy-workflow-generator.git
</pre></div>
</div>
<p>Enter the cloned repository, and edit the <code class="docutils literal notranslate"><span class="pre">tools.yaml</span></code> file. New entries are
described in the Markdown format.<br />The minimum set of metadata to be provided for each tool comprise:</p>
<ul class="simple">
<li><p>name</p></li>
<li><p>owner</p></li>
<li><p>tool_panel_section_label</p></li>
<li><p>revisions</p></li>
</ul>
<p>If unsure, please refer to the <a class="reference external" href="https://toolshed.g2.bx.psu.edu/">Galaxy Toolshed</a>.</p>
<p>Once edited, you can build the Docker container locally:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ docker build -t destair-local:latest .
</pre></div>
</div>
<p>Now run your local image and access it via a web browser:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ docker run -d -p 8080:80 --name destair -v /absolute/path/to/local/directory/:/export destair-local:latest
</pre></div>
</div>
<p>for more parameters and further help, consult
<a class="reference external" href="https://github.com/destairdenbi/galaxy-workflow-generator#run-the-container">these instructions</a>.</p>
<p align="right"><a href="#top">&#x25B2; back to top</a></p></div>
<div class="section" id="when-every-tool-is-there">
<h3>When every tool is there<a class="headerlink" href="#when-every-tool-is-there" title="Permalink to this headline">¶</a></h3>
<p>Atoms are interactive tours that illustrate one or more Galaxy tools.<br />For ease of use within the context of specific experimental setups, we suggest
to build atoms that solve entire tasks of a target analysis, <em>i.e.</em> Adapter
clipping, Quality control, Genome alignment, Transcript quantification, and so
on.</p>
<p>You can create atoms by leveraging on the <a class="reference external" href="https://github.com/TailorDev/galaxy-tourbuilder">Galaxy Tour Builder</a>.
However, be aware that the Tour Builder cannot identify elements with a missing
<code class="docutils literal notranslate"><span class="pre">tour_id</span></code> attribute, which means that the resulting tour’s bubbles will not
always be placed on the HTML elements of interest. This limitation is
particularly visible on those elements that require an explicit user input,
such as dropdown menu selectors, checkboxes, etc.<br />To overcome this problem, we defined some templates that can be used to place
the interactive tour’s bubble on the actual HTML elements of interest.<br />Check our <a class="reference external" href="https://github.com/destairdenbi/galaxy-atoms/blob/master/TEMPLATES">TEMPLATES.md</a>
file for examples and use cases.</p>
<p>If your atom needs to be placed within an analysis which is not yet included in
the Galaxy workflow generator, you need to create a new <em>linker file</em>. Look at
the examples in the repository.<br />Otherwise, name the contributed atom with the label <code class="docutils literal notranslate"><span class="pre">dgea_Xx.yaml</span></code>, or
<code class="docutils literal notranslate"><span class="pre">bs_Xx.yaml</span></code>. Where <code class="docutils literal notranslate"><span class="pre">X</span></code> is the task number, and <code class="docutils literal notranslate"><span class="pre">x</span></code> an identifier of your
choice.</p>
<p align="right"><a href="#top">&#x25B2; back to top</a></p></div>
<div class="section" id="test-new-atoms">
<h3>Test new atoms<a class="headerlink" href="#test-new-atoms" title="Permalink to this headline">¶</a></h3>
<p>New atoms can be tested by running a Galaxy Docker container using a <em>bind
mount</em>, or by running the <a class="reference external" href="https://github.com/destairdenbi/galaxy-workflow-generator">Galaxy workflow generator</a>
using the interactive <a class="reference external" href="https://github.com/destairdenbi/galaxy-webhooks">plugin</a>.</p>
<p align="right"><a href="#top">&#x25B2; back to top</a></p><div class="section" id="option-1-docker-bind-mount-method">
<h4>Option 1: Docker bind mount method<a class="headerlink" href="#option-1-docker-bind-mount-method" title="Permalink to this headline">¶</a></h4>
<p>Run the Galaxy Docker container by creating a bind mount:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ docker run -d -p 8080:80 --name destair -v /absolute/path/to/local/directory/:/export/ quay.io/destair/galaxy-workflow-generator:latest
</pre></div>
</div>
<p>for more parameters and further help, consult
<a class="reference external" href="https://github.com/destairdenbi/galaxy-workflow-generator#run-the-container">these instructions</a>.</p>
<p>Once the container is ready, you will be able to copy the new atom into</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">absolute</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">directory</span><span class="o">/</span><span class="n">export</span><span class="o">/</span><span class="n">galaxy</span><span class="o">-</span><span class="n">central</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">plugins</span><span class="o">/</span><span class="n">tours</span><span class="o">/</span>
</pre></div>
</div>
<p>Now, either restart the running Galaxy instance and access it via a web browser
locally <code class="docutils literal notranslate"><span class="pre">localhost:8080</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ docker exec destair supervisorctl restart galaxy:
</pre></div>
</div>
<p>or login to your Galaxy instance as administrator and run our de.STAIR plugin
once with <code class="docutils literal notranslate"><span class="pre">Update</span> <span class="pre">tours</span> <span class="pre">DB</span></code> admin option checked.</p>
<p>New atoms will be automatically offered by our plugin and can be found by
navigating the Galaxy interface under the header section <code class="docutils literal notranslate"><span class="pre">Help</span> <span class="pre">-&gt;</span> <span class="pre">Interactive</span> <span class="pre">Tours</span></code>.</p>
<p align="right"><a href="#top">&#x25B2; back to top</a></p></div>
<div class="section" id="option-2-local-galaxy-setup-method">
<h4>Option 2: Local Galaxy setup method<a class="headerlink" href="#option-2-local-galaxy-setup-method" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/destairdenbi/galaxy-webhooks#set-up-the-galaxy-environment">Set up the Galaxy environment</a></p></li>
<li><p><a class="reference external" href="https://github.com/destairdenbi/galaxy-webhooks#set-up-the-destair-atoms">Set up the de.STAIR atoms</a></p></li>
<li><p>Contribute new atoms as stated above</p></li>
<li><p><a class="reference external" href="https://github.com/destairdenbi/galaxy-webhooks#set-up-the-destair-plugin">Set up the de.STAIR plugin</a></p></li>
<li><p><a class="reference external" href="https://github.com/destairdenbi/galaxy-webhooks#run-the-galaxy-framework">Run the Galaxy framework</a></p></li>
</ul>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Galaxy-Atoms</a><ul>
<li><a class="reference internal" href="#how-it-works">How it works</a></li>
<li><a class="reference internal" href="#how-to-contribute">How to contribute</a><ul>
<li><a class="reference internal" href="#set-up-docker">Set up Docker</a></li>
<li><a class="reference internal" href="#when-some-tools-are-missing">When some tools are missing</a></li>
<li><a class="reference internal" href="#when-every-tool-is-there">When every tool is there</a></li>
<li><a class="reference internal" href="#test-new-atoms">Test new atoms</a><ul>
<li><a class="reference internal" href="#option-1-docker-bind-mount-method">Option 1: Docker bind mount method</a></li>
<li><a class="reference internal" href="#option-2-local-galaxy-setup-method">Option 2: Local Galaxy setup method</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="galaxy-webhooks.html"
                        title="previous chapter">Galaxy-Webhooks</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="galaxy-workflows.html"
                        title="next chapter">Galaxy-Workflows</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/pages/galaxy-atoms.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="galaxy-workflows.html" title="Galaxy-Workflows"
             >next</a> |</li>
        <li class="right" >
          <a href="galaxy-webhooks.html" title="Galaxy-Webhooks"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">deSTAIR Projects 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Steffen C. Lott, Andrea Bagnacani, Konstantin Riege.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.0.
    </div>
  </body>
</html>